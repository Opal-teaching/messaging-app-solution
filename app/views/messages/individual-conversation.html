<ons-page ng-controller="IndividualConversationController as vm">
    <ons-toolbar>
        <div class="left">
            <ons-toolbar-button ng-click="navi.popPage()">
                <ons-icon icon="ion-chevron-left" fixed-width="false" style="font-size: 26px; vertical-align: -4px"></ons-icon>
            </ons-toolbar-button>
        </div>
        <div class="center">
            {{vm.user_conv.firstname}} {{vm.user_conv.lastname}}
        </div>
        <div class="right">
            <!--<ons-toolbar-button>-->
                <!--<ons-icon icon="ion-trash-a" fixed-width="false" style="font-size: 26px; vertical-align: -4px;"-->
                          <!--ng-click="vm.deleteConversation()"></ons-icon>-->
            <!--</ons-toolbar-button>-->
        </div>
    </ons-toolbar>
    <ons-list style="margin-top:10px;">
        <ons-list-item align="center">
            <textarea class="textarea textarea--transparent"
                      placeholder="Enter message..." style="width: 100%;height: 100px;" ng-model="vm.messageContent"></textarea>
        </ons-list-item>
    </ons-list>
    <br>
    <ons-button ng-click="vm.sendMessage(vm.messageContent)" ng-disabled="!vm.messageContent" modifier="large">Send Message</ons-button>
    <br>
    <div class="center" style="text-align: center" ng-if="vm.messages.length === 0">
        <p class="msg-app-conversations-empty"> No messages!</p>
        <!--<svg class="progress-circular">-->
        <!--<circle class="progress-circular__primary" cx="50%" cy="50%" r="40%" fill="none" stroke-width="10%" stroke-miterlimit="10"/>-->
        <!--</svg>-->
    </div>
    <ons-list class="timeline" ng-show="vm.messages.length > 0 ">
        <ons-list-item  ng-repeat="message in vm.messages | orderBy: 'messageDate':true">
            <ons-row align="center" class="list-height">

                    <ons-col width="50px">
                        <img ng-src="{{message.from.imageUrl}}" class="user-image">
                    </ons-col>
                <ons-col>
                    <div class="timeline-date" style="margin-right: 5px;position: static;float:right">{{message.messageDate|date: 'MMM d, y h:mm a'}}</div>
                    <span class="timeline-name">{{message.from.firstname}} {{message.from.lastname}} <span style="color: grey;">@{{message.from.username}}</span></span>
                        <div>{{message.messageContent}}</div>
                    </div>

                </ons-col>
            </ons-row>
        </ons-list-item>
    </ons-list>
</ons-page>